# üé® Konva Architecture Canvas# üé® Konva Architecture Canvas# üé® Konva Architecture Canvas# konva-architecture-canvas# konva-architecture-canvas# KonvaCanvasBuilder



> **Professional Architecture Diagram Builder** - Create stunning cloud infrastructure, AI/ML systems, and technical architecture diagrams with an intuitive drag-and-drop interface.



[![npm version](https://img.shields.io/npm/v/konva-architecture-canvas.svg)](https://www.npmjs.com/package/konva-architecture-canvas)> **Professional Architecture Diagram Builder** - Create stunning cloud infrastructure, AI/ML systems, and technical architecture diagrams with an intuitive drag-and-drop interface.

[![Angular](https://img.shields.io/badge/Angular-21+-DD0031?logo=angular)](https://angular.io/)

[![Konva](https://img.shields.io/badge/Konva-10+-0D83CD?logo=konva)](https://konvajs.org/)

[![TypeScript](https://img.shields.io/badge/TypeScript-5.9+-3178C6?logo=typescript)](https://www.typescriptlang.org/)

[![License](https://img.shields.io/badge/License-MIT-success.svg)](LICENSE)[![npm version](https://img.shields.io/npm/v/konva-architecture-canvas.svg)](https://www.npmjs.com/package/konva-architecture-canvas)> **Professional Architecture Diagram Builder** - Create stunning cloud infrastructure, AI/ML systems, and technical architecture diagrams with an intuitive drag-and-drop interface.



üöÄ **[Live Demo](https://samba425.github.io/konva-architecture-canvas/)** | üì¶ [npm Package](https://www.npmjs.com/package/konva-architecture-canvas) | üìö [GitHub](https://github.com/samba425/konva-architecture-canvas)[![Angular](https://img.shields.io/badge/Angular-21+-DD0031?logo=angular)](https://angular.io/)



> üé® **Build stunning architecture diagrams in minutes** - A powerful Angular component with 47+ pre-built tech components, drag-and-drop interface, and professional drawing tools.[![Konva](https://img.shields.io/badge/Konva-10+-0D83CD?logo=konva)](https://konvajs.org/)



---[![TypeScript](https://img.shields.io/badge/TypeScript-5.9+-3178C6?logo=typescript)](https://www.typescriptlang.org/)



## üìñ Table of Contents[![License](https://img.shields.io/badge/License-MIT-success.svg)](LICENSE)[![npm version](https://img.shields.io/npm/v/konva-architecture-canvas.svg)](https://www.npmjs.com/package/konva-architecture-canvas)> üé® **Build stunning architecture diagrams in minutes** - A powerful Angular component with 47+ pre-built tech components, drag-and-drop interface, and professional drawing tools.



- [Features](#-features)

- [Installation](#-installation)

- [Quick Start](#-quick-start)---[![Angular](https://img.shields.io/badge/Angular-21+-DD0031?logo=angular)](https://angular.io/)

- [Component Library](#-component-library)

- [Usage Guide](#-usage-guide)

- [Keyboard Shortcuts](#%EF%B8%8F-keyboard-shortcuts)

- [API Reference](#-api-reference)## üìñ Table of Contents[![Konva](https://img.shields.io/badge/Konva-10+-0D83CD?logo=konva)](https://konvajs.org/)

- [Examples](#-examples)

- [Troubleshooting](#-troubleshooting)



---- [Features](#-features)[![TypeScript](https://img.shields.io/badge/TypeScript-5.9+-3178C6?logo=typescript)](https://www.typescriptlang.org/)



## ‚ú® Features- [Installation](#-installation)



### üéØ **Core Capabilities**- [Quick Start](#-quick-start)[![License](https://img.shields.io/badge/License-MIT-success.svg)](LICENSE)[![Angular](https://img.shields.io/badge/Angular-21+-red)](https://angular.io/)> A powerful Angular component for creating interactive architecture diagrams with Konva.jsThis project was generated using [Angular CLI](https://github.com/angular/angular-cli) version 21.0.0.

- **47+ Pre-built Components** - Cloud providers, AI/ML services, databases, and more

- **Drag & Drop Interface** - Intuitive component placement and connection- [Component Library](#-component-library)

- **Smart Connections** - Auto-routing arrows with multiple styles

- **Professional Drawing Tools** - Shapes, text, annotations, and more- [Usage Guide](#-usage-guide)

- **Template System** - Save and reuse your diagram templates

- **Export Options** - PNG, JSON, and more formats- [Keyboard Shortcuts](#%EF%B8%8F-keyboard-shortcuts)



### üé® **Drawing Tools**- [API Reference](#-api-reference)---[![Konva](https://img.shields.io/badge/Konva-10+-blue)](https://konvajs.org/)

- Rectangle, Circle, Ellipse, Triangle shapes

- Lines with multiple arrow styles- [Examples](#-examples)

- Text annotations with formatting

- Free-hand drawing tool- [Troubleshooting](#-troubleshooting)

- Selection and manipulation tools



### üîß **Advanced Features**

- **Multi-selection** - Select and move multiple components---## üìñ Table of Contents[![License](https://img.shields.io/badge/License-MIT-green)](LICENSE)

- **Grouping** - Organize components into logical groups

- **Undo/Redo** - Complete history management

- **Zoom & Pan** - Navigate large diagrams easily

- **Grid Snapping** - Precise component alignment## ‚ú® Features

- **Keyboard Shortcuts** - Professional workflow support



### üåà **UI Features**

- **Light/Dark Theme** - Comfortable viewing in any environment### üéØ **Rich Component Library**- [Features](#-features)

- **Responsive Design** - Works on desktop and tablet

- **Search & Filter** - Find components quickly- **47+ Pre-built Components** across 6 categories:

- **Component Categories** - Organized by technology type

- **Color Customization** - Match your brand colors  - ü§ñ **AI Models**: Mistral, Llama, Gemma, GPT, Claude, Gemini, DeepSeek, Phi, Qwen, Grok, Nova, Cohere- [Installation](#-installation)



### üì¶ **Component Categories**  - üóÑÔ∏è **Vector Databases**: Weaviate, Milvus, Pinecone, Chroma, pgVector, Neon

- **Cloud Providers** - AWS, Azure, GCP services

- **AI/ML Services** - OpenAI, Claude, Gemini, LLaMA  - üîó **Agent Frameworks**: LangChain, LangGraph, Semantic Kernel, AutoGen, CrewAI, LlamaIndex- [Quick Start](#-quick-start)---[![Angular](https://img.shields.io/badge/Angular-21.0-red)](https://angular.io/)## Code scaffolding

- **Databases** - PostgreSQL, MongoDB, Redis, etc.

- **Infrastructure** - Kubernetes, Docker, Load Balancers  - üìä **Observability**: Langfuse, Comet Opik, Helicone, Arize Phoenix, Datadog, Amplitude

- **Messaging** - Kafka, RabbitMQ, Event Hubs

- **Monitoring** - Prometheus, Grafana, CloudWatch  - üõ†Ô∏è **Tool Execution**: Composio, NPI, Exa, LinkUp, Browserbase- [Component Library](#-component-library)



---  - üíæ **Memory Systems**: Zep, Cognee, Mem0, VertexAI, NapthaAI, MaestroAI



## üì¶ Installation- [Usage Guide](#-usage-guide)



```bash### üé® **Professional Drawing Tools**

npm install konva-architecture-canvas konva

```- **Basic Shapes**: Rectangle, Circle, Line, Arrow, Triangle, Diamond, Pentagon, Hexagon, Star- [Keyboard Shortcuts](#%EF%B8%8F-keyboard-shortcuts)



### Peer Dependencies- **Freehand Drawing**: Pen tool for custom paths and annotations



Ensure you have the required peer dependencies:- **Text Labels**: Rich text editor with customizable fonts and colors- [API Reference](#-api-reference)## ‚ú® Features[![Konva](https://img.shields.io/badge/Konva-10.0-blue)](https://konvajs.org/)



```bash- **Image Upload**: Add custom icons and logos to your diagrams

npm install @angular/common@^21.0.0 @angular/core@^21.0.0 konva@^10.0.12

```- [Examples](#-examples)



---### üé® **Advanced Styling System**



## üöÄ Quick Start- **Dual Color Control**: Separate stroke (border) and fill (interior) colors- [Troubleshooting](#-troubleshooting)



### Step 1: Import the Component- **Independent Opacity**: Adjust stroke and fill transparency separately



```typescript- **12-Color Palette**: Quick color selection with custom color picker

import { Component } from '@angular/core';

import { KonvaCanvasMainComponent } from 'konva-architecture-canvas';- **Stroke Width**: Adjustable border thickness (1-10px)



@Component({---- **47+ Pre-built Components** (AI models, databases, cloud services, frameworks, etc.)[![TypeScript](https://img.shields.io/badge/TypeScript-5.9-blue)](https://www.typescriptlang.org/)Angular CLI includes powerful code scaffolding tools. To generate a new component, run:

  selector: 'app-root',

  standalone: true,### üì¶ **Smart Grouping System**

  imports: [KonvaCanvasMainComponent],

  template: '<lib-konva-canvas-main></lib-konva-canvas-main>'- **Hierarchical Groups**: Create nested groups with automatic color coding

})

export class AppComponent {}- **Visual Borders**: Color-coded borders (purple, red, orange, green, blue) by nesting level

```

- **Drag & Move**: Move entire groups as single units## ‚ú® Features- **Complete Drawing Tools** (shapes, arrows, lines, text, pen tool)

### Step 2: Add to Your Template

- **Extract Items**: Remove items from groups or create new groups

```html

<lib-konva-canvas-main></lib-konva-canvas-main>

```

### üíæ **Save & Restore**

### Step 3: Run Your Application

- **Auto-Save**: Automatic localStorage backup of your work### üéØ **Rich Component Library**- **Professional Styling** (colors, opacity, borders, fills)[![License](https://img.shields.io/badge/License-MIT-green)](LICENSE)

```bash

ng serve- **My Templates**: Save custom diagrams as reusable templates

```

- **Export Formats**: JSON, PNG, and SVG export options- **47+ Pre-built Components** across 6 categories:

That's it! üéâ The canvas is now ready with all features enabled.

- **Import**: Load saved JSON diagrams

---

  - ü§ñ **AI Models**: Mistral, Llama, Gemma, GPT, Claude, Gemini, DeepSeek, Phi, Qwen, Grok, Nova, Cohere- **Smart Grouping** (with nested support and colored borders)

## üìö Component Library

### ‚ö° **High Performance**

### ü§ñ AI & Machine Learning (10 components)

- **Canvas Rendering**: Powered by Konva.js for smooth interactions  - üóÑÔ∏è **Vector Databases**: Weaviate, Milvus, Pinecone, Chroma, pgVector, Neon

| Component | Description | Use Case |

|-----------|-------------|----------|- **Icon Caching**: Optimized component rendering

| OpenAI GPT | GPT-3.5, GPT-4 models | Text generation, chat |

| Claude | Anthropic's Claude AI | Advanced reasoning |- **Infinite Canvas**: Pan and zoom without limits  - üîó **Agent Frameworks**: LangChain, LangGraph, Semantic Kernel, AutoGen, CrewAI, LlamaIndex- **Export/Import** (save and load as JSON)```bash

| Gemini | Google's Gemini AI | Multimodal AI |

| LLaMA | Meta's open-source LLM | Self-hosted AI |- **Grid System**: Optional alignment grid

| Mistral | Mistral AI models | European AI solution |

| Cohere | Cohere language models | Enterprise NLP |  - üìä **Observability**: Langfuse, Comet Opik, Helicone, Arize Phoenix, Datadog, Amplitude

| Hugging Face | Model hub & inference | ML model hosting |

| Azure OpenAI | Microsoft-hosted OpenAI | Enterprise AI |### üéØ **User-Friendly Interface**

| Bedrock | AWS managed LLMs | Cloud-native AI |

| Vertex AI | Google Cloud AI platform | ML operations |- **Multi-Selection**: Shift+Click or drag-rectangle to select multiple items  - üõ†Ô∏è **Tool Execution**: Composio, NPI, Exa, LinkUp, Browserbase- **Full Keyboard Shortcuts** (Cmd+G for group, Cmd+Z for undo, etc.)



### ‚òÅÔ∏è Cloud Services (15 components)- **Keyboard Shortcuts**: Full keyboard support for power users



| Component | Description | Use Case |- **Dark/Light Themes**: Switch between themes for comfortable viewing  - üíæ **Memory Systems**: Zep, Cognee, Mem0, VertexAI, NapthaAI, MaestroAI

|-----------|-------------|----------|

| AWS Lambda | Serverless compute | Event-driven code |- **Responsive**: Works on various screen sizes

| Azure Functions | Microsoft serverless | Cloud automation |

| GCP Cloud Functions | Google serverless | Microservices |- **Multi-Selection** (Shift+Click or drag to select)## ‚ú® Featuresng generate component component-name

| API Gateway | API management | RESTful APIs |

| S3 Bucket | Object storage | File storage |---

| CloudFront | CDN service | Content delivery |

| Route 53 | DNS service | Domain management |### üé® **Professional Drawing Tools**

| EC2 | Virtual machines | Compute instances |

| ECS | Container service | Docker hosting |## üì¶ Installation

| EKS | Kubernetes service | Container orchestration |

| RDS | Relational database | Managed SQL |- **Basic Shapes**: Rectangle, Circle, Line, Arrow, Triangle, Diamond, Pentagon, Hexagon, Star

| DynamoDB | NoSQL database | Key-value store |

| SNS | Notification service | Pub/sub messaging |Install the package and its peer dependency:

| SQS | Message queue | Async processing |

| EventBridge | Event bus | Event routing |- **Freehand Drawing**: Pen tool for custom paths and annotations



### üóÑÔ∏è Databases (8 components)```bash



| Component | Description | Use Case |npm install konva-architecture-canvas konva- **Text Labels**: Rich text editor with customizable fonts and colors---```

|-----------|-------------|----------|

| PostgreSQL | Relational database | ACID transactions |```

| MongoDB | Document database | Flexible schemas |

| Redis | In-memory cache | Session storage |- **Image Upload**: Add custom icons and logos to your diagrams

| Elasticsearch | Search engine | Full-text search |

| Cassandra | Wide-column store | Time-series data |### Peer Dependencies

| Neo4j | Graph database | Relationships |

| Pinecone | Vector database | AI embeddings |

| Weaviate | Vector search | Semantic search |

This library requires:

### üê≥ Infrastructure (7 components)

### üé® **Advanced Styling System**

| Component | Description | Use Case |

|-----------|-------------|----------|```json

| Kubernetes | Container orchestration | Microservices |

| Docker | Containerization | Application packaging |{- **Dual Color Control**: Separate stroke (border) and fill (interior) colors## üì¶ Installation- üé® **47+ Pre-built Components** across 6 categories (AI Models, Databases, Frameworks, etc.)

| Load Balancer | Traffic distribution | High availability |

| Nginx | Web server | Reverse proxy |  "@angular/common": "^21.0.0",

| HAProxy | Load balancer | TCP/HTTP balancing |

| Consul | Service mesh | Service discovery |  "@angular/core": "^21.0.0",- **Independent Opacity**: Adjust stroke and fill transparency separately

| Istio | Service mesh | Traffic management |

  "@angular/forms": "^21.0.0",

### üì® Messaging (5 components)

  "konva": "^10.0.12"- **12-Color Palette**: Quick color selection with custom color picker

| Component | Description | Use Case |

|-----------|-------------|----------|}

| Kafka | Event streaming | Real-time data |

| RabbitMQ | Message broker | Task queues |```- **Stroke Width**: Adjustable border thickness (1-10px)

| Azure Event Hubs | Event ingestion | Telemetry |

| Google Pub/Sub | Messaging service | Async messaging |

| Amazon MQ | Managed broker | Enterprise messaging |

---```bash- üéØ **Drag & Drop Interface** for intuitive diagram creationFor a complete list of available schematics (such as `components`, `directives`, or `pipes`), run:

### üìä Monitoring (2 components)



| Component | Description | Use Case |

|-----------|-------------|----------|## üöÄ Quick Start### üì¶ **Smart Grouping System**

| Prometheus | Metrics collection | Time-series monitoring |

| Grafana | Visualization | Dashboards |



---### Step 1: Import the Component- **Hierarchical Groups**: Create nested groups with automatic color codingnpm install konva-architecture-canvas konva



## üéØ Usage Guide



### Basic Operations```typescript- **Visual Borders**: Color-coded borders (purple, red, orange, green, blue) by nesting level



| Action | Method | Description |import { Component } from '@angular/core';

|--------|--------|-------------|

| **Add Component** | Drag from sidebar | Place component on canvas |import { KonvaCanvasMainComponent } from 'konva-architecture-canvas';- **Drag & Move**: Move entire groups as single units```- üåà **Advanced Color System** with separate stroke/fill controls and opacity

| **Move Component** | Drag component | Reposition on canvas |

| **Delete Component** | Select + Delete/Backspace | Remove from canvas |

| **Connect Components** | Use Arrow tool | Draw connections |

| **Select Multiple** | Ctrl/Cmd + Click | Multi-selection |@Component({- **Extract Items**: Remove items from groups or create new groups

| **Pan Canvas** | Space + Drag | Navigate large diagrams |

| **Zoom** | Mouse wheel / Zoom controls | Adjust view scale |  selector: 'app-root',



### Drawing Tools  standalone: true,



| Tool | Icon | Description | Usage |  imports: [KonvaCanvasMainComponent],

|------|------|-------------|-------|

| **Select** | ‚ÜñÔ∏è | Selection tool | Click to select objects |  template: '<arch-canvas></arch-canvas>',### üíæ **Save & Restore**

| **Rectangle** | ‚ñ≠ | Draw rectangles | Click and drag |

| **Circle** | ‚óã | Draw circles | Click and drag |  styles: [`

| **Ellipse** | ‚¨≠ | Draw ellipses | Click and drag |

| **Triangle** | ‚ñ≥ | Draw triangles | Click and drag |    arch-canvas {- **Auto-Save**: Automatic localStorage backup of your work---- üì¶ **Nested Grouping** with colored borders by hierarchy level```bash

| **Line** | ‚îÄ | Draw lines | Click points |

| **Arrow** | ‚Üí | Draw arrows | Click start/end points |      display: block;

| **Text** | T | Add text | Click to place |

| **Pen** | ‚úé | Free drawing | Click and drag |      width: 100%;- **My Templates**: Save custom diagrams as reusable templates



### Connection Styles      height: 100vh;



The canvas supports multiple arrow styles for connections:    }- **Export Formats**: JSON, PNG, and SVG export options



- **Straight Line** - Direct point-to-point  `]

- **Curved Line** - Smooth bezier curves

- **Right Angle** - 90-degree corners})- **Import**: Load saved JSON diagrams

- **Step Line** - Horizontal/vertical steps

export class AppComponent {}

---

```## üöÄ Quick Start (3 Steps)- üíæ **Export/Import** architecture diagrams as JSONng generate --help

## ‚å®Ô∏è Keyboard Shortcuts



### Selection & Navigation

### Step 2: Configure Global Styles### ‚ö° **High Performance**

| Shortcut | Action |

|----------|--------|

| `Ctrl/Cmd + A` | Select all |

| `Ctrl/Cmd + Click` | Multi-select |Add to your `styles.css` or `styles.scss`:- **Canvas Rendering**: Powered by Konva.js for smooth interactions

| `Escape` | Deselect all |

| `Space + Drag` | Pan canvas |

| `Mouse Wheel` | Zoom in/out |

```css- **Icon Caching**: Optimized component rendering

### Drawing Tools

* {

| Shortcut | Tool |

|----------|------|  margin: 0;- **Infinite Canvas**: Pan and zoom without limits### 1Ô∏è‚É£ Import the Component- ‚ö° **High Performance** with icon caching and optimized rendering```

| `V` | Select tool |

| `R` | Rectangle |  padding: 0;

| `C` | Circle |

| `E` | Ellipse |  box-sizing: border-box;- **Grid System**: Optional alignment grid

| `T` | Triangle |

| `L` | Line |}

| `A` | Arrow |

| `X` | Text |

| `P` | Pen (free draw) |

html, body {

### Editing

  width: 100%;### üéØ **User-Friendly Interface**

| Shortcut | Action |

|----------|--------|  height: 100%;

| `Delete / Backspace` | Delete selected |

| `Ctrl/Cmd + Z` | Undo |  overflow: hidden;- **Multi-Selection**: Shift+Click or drag-rectangle to select multiple items```typescript- ‚å®Ô∏è **Keyboard Shortcuts** (Cmd+G, Cmd+Z, Cmd+S, etc.)

| `Ctrl/Cmd + Shift + Z` | Redo |

| `Ctrl/Cmd + C` | Copy |}

| `Ctrl/Cmd + V` | Paste |

| `Ctrl/Cmd + X` | Cut |```- **Keyboard Shortcuts**: Full keyboard support for power users

| `Ctrl/Cmd + D` | Duplicate |



### View Controls

### Step 3: Run Your Application- **Dark/Light Themes**: Switch between themes for comfortable viewingimport { Component } from '@angular/core';

| Shortcut | Action |

|----------|--------|

| `Ctrl/Cmd + 0` | Reset zoom |

| `Ctrl/Cmd + +` | Zoom in |```bash- **Responsive**: Works on various screen sizes

| `Ctrl/Cmd + -` | Zoom out |

| `Ctrl/Cmd + Shift + F` | Fit to screen |ng serve



### Export & Save```import { KonvaCanvasMainComponent } from 'konva-architecture-canvas';- üé™ **Multi-Selection** with Shift+Click and drag-rectangle## Building



| Shortcut | Action |

|----------|--------|

| `Ctrl/Cmd + S` | Save template |Open your browser to `http://localhost:4200` and start creating diagrams!---

| `Ctrl/Cmd + E` | Export PNG |

| `Ctrl/Cmd + Shift + E` | Export JSON |



------



## üîå API Reference



### Component Input Properties## üß© Component Library## üì¶ Installation



```typescript

import { KonvaCanvasMainComponent } from 'konva-architecture-canvas';

### ü§ñ AI Foundation Models (12)@Component({- üì± **Responsive Canvas** with infinite grid and zoom/pan

@Component({

  selector: 'app-diagram',- Mistral, Llama, Gemma, GPT, Claude, Gemini

  template: `

    <lib-konva-canvas-main- DeepSeek, Phi, Qwen, Grok, Nova, CohereInstall the package and its peer dependency:

      [initialTemplate]="myTemplate"

      [theme]="'dark'"

      [readOnly]="false">

    </lib-konva-canvas-main>### üóÑÔ∏è Vector Databases (6)  selector: 'app-root',

  `

})- Weaviate, Milvus, Pinecone

export class DiagramComponent {

  myTemplate = {- Chroma, pgVector, Neon```bash

    components: [...],

    connections: [...]

  };

}### üîó Agent Frameworks (10)npm install konva-architecture-canvas konva  standalone: true,- üîß **Easy to Extend** with custom components and themesTo build the library, run:

```

- LangChain, LangGraph, Semantic Kernel

### Properties

- AutoGen, Camel AI, LlamaIndex```

| Property | Type | Default | Description |

|----------|------|---------|-------------|- CrewAI, AWS Bedrock, Replit, OpenAI Operator

| `initialTemplate` | `DiagramTemplate` | `null` | Load initial diagram |

| `theme` | `'light' \| 'dark'` | `'light'` | UI theme |  imports: [KonvaCanvasMainComponent],

| `readOnly` | `boolean` | `false` | Disable editing |

| `showGrid` | `boolean` | `true` | Show grid lines |### üìä Observability Tools (7)

| `snapToGrid` | `boolean` | `true` | Enable snapping |

| `gridSize` | `number` | `20` | Grid cell size |- Langfuse, Comet Opik, Helicone### Peer Dependencies



### Events- Arize Phoenix, Datadog, Amplitude, Sentry



```typescript  template: '<arch-canvas></arch-canvas>',

@Component({

  template: `### üõ†Ô∏è Tool Execution (5)

    <lib-konva-canvas-main

      (diagramChange)="onDiagramChange($event)"- Composio, NPI, Exa, LinkUp, BrowserbaseThis library requires:

      (componentAdded)="onComponentAdded($event)"

      (componentDeleted)="onComponentDeleted($event)">

    </lib-konva-canvas-main>

  `### üíæ Memory Systems (6)  styles: [`

})

export class DiagramComponent {- Zep, Cognee, Mem0

  onDiagramChange(diagram: DiagramTemplate) {

    console.log('Diagram updated:', diagram);- VertexAI, NapthaAI, MaestroAI```json

  }



  onComponentAdded(component: DiagramComponent) {

    console.log('Component added:', component);---{    arch-canvas {---```bash

  }



  onComponentDeleted(componentId: string) {

    console.log('Component deleted:', componentId);## üìö Usage Guide  "@angular/common": "^21.0.0",

  }

}

```

### Creating Your First Diagram  "@angular/core": "^21.0.0",      display: block;

### Methods



Access component methods via ViewChild:

1. **Select a Tool**: Click the ‚ÜñÔ∏è (Select), ‚úã (Hand), or drawing tool from the toolbar  "@angular/forms": "^21.0.0",

```typescript

import { ViewChild } from '@angular/core';2. **Add Components**: Search for components in the left panel and drag them to the canvas

import { KonvaCanvasMainComponent } from 'konva-architecture-canvas';

3. **Connect Components**: Use the üîó Connector tool to draw lines between components  "konva": "^10.0.12"      width: 100%;ng build konva-canvas-builder

@Component({

  template: '<lib-konva-canvas-main></lib-konva-canvas-main>'4. **Style Your Diagram**: Select items and use the color/opacity controls

})

export class DiagramComponent {5. **Save Your Work**: Click üíæ to save as a template or export to JSON/PNG}

  @ViewChild(KonvaCanvasMainComponent) canvas!: KonvaCanvasMainComponent;



  exportDiagram() {

    // Export as PNG### Drawing Tools```      height: 100vh;

    const imageData = this.canvas.exportAsPNG();

    

    // Export as JSON

    const jsonData = this.canvas.exportAsJSON();| Tool | Icon | Shortcut | Description |

    

    // Clear canvas|------|------|----------|-------------|

    this.canvas.clearCanvas();

    | Select | ‚ÜñÔ∏è | V | Select and move shapes |---    }## üì¶ Installation```

    // Load template

    this.canvas.loadTemplate(myTemplate);| Hand | ‚úã | H | Pan the canvas |

  }

}| Connector | üîó | K | Draw connections between shapes |

```

| Pen | ‚úèÔ∏è | P | Freehand drawing |

### TypeScript Interfaces

| Rectangle | ‚ñ≠ | R | Draw rectangles |## üöÄ Quick Start  `]

```typescript

interface DiagramTemplate {| Circle | ‚óã | C | Draw circles |

  id?: string;

  name: string;| Arrow | ‚Üí | A | Draw directional arrows |

  description?: string;

  components: DiagramComponent[];| Line | ‚îÄ | L | Draw straight lines |

  connections: DiagramConnection[];

  metadata?: {| Text | T | T | Add text labels |### Step 1: Import the Component})

    createdAt: string;

    updatedAt: string;

    version: string;

  };### Using Connectors

}



interface DiagramComponent {

  id: string;1. Click the **üîó Connector** tool```typescriptexport class AppComponent {}

  type: string;

  label: string;2. Click on the **source component**

  x: number;

  y: number;3. Click on the **target component**import { Component } from '@angular/core';

  width: number;

  height: number;4. A curved line will be drawn automatically

  icon?: string;

  color?: string;5. Toggle between curved/straight lines with the **„Ä∞Ô∏è** buttonimport { KonvaCanvasMainComponent } from 'konva-architecture-canvas';``````bashThis command will compile your project, and the build artifacts will be placed in the `dist/` directory.

  metadata?: Record<string, any>;

}



interface DiagramConnection {### Grouping Components

  id: string;

  from: string;  // Component ID

  to: string;    // Component ID

  label?: string;1. Select multiple components (Shift+Click or drag-rectangle)@Component({

  style?: 'straight' | 'curved' | 'rightAngle' | 'step';

  color?: string;2. Press **Cmd+G** (Mac) or **Ctrl+G** (Windows/Linux)

}

```3. The group will have a colored border based on nesting level  selector: 'app-root',



---4. Drag the group to move all items together



## üí° Examples  standalone: true,### 2Ô∏è‚É£ Update Your Styles (Important!)npm install konva-architecture-canvas konva



### Example 1: RAG Chatbot Architecture**Group Border Colors by Nesting Level:**



```typescript- Level 1: Purple  imports: [KonvaCanvasMainComponent],

import { Component } from '@angular/core';

import { KonvaCanvasMainComponent } from 'konva-architecture-canvas';- Level 2: Red  



@Component({- Level 3: Orange  template: '<arch-canvas></arch-canvas>',

  selector: 'app-rag-demo',

  standalone: true,- Level 4: Green

  imports: [KonvaCanvasMainComponent],

  template: '<lib-konva-canvas-main [initialTemplate]="ragTemplate"></lib-konva-canvas-main>'- Level 5: Blue  styles: [`

})

export class RagDemoComponent {

  ragTemplate = {

    name: 'RAG Chatbot',### Styling Components    arch-canvas {In your global `styles.css`:```### Publishing the Library

    components: [

      { id: '1', type: 'openai-gpt', label: 'GPT-4', x: 100, y: 100, width: 120, height: 80 },

      { id: '2', type: 'pinecone', label: 'Vector DB', x: 300, y: 100, width: 120, height: 80 },

      { id: '3', type: 'api-gateway', label: 'API', x: 200, y: 250, width: 120, height: 80 }**Stroke Mode (Border):**      display: block;

    ],

    connections: [- Click any component to select it

      { id: 'c1', from: '1', to: '2', style: 'curved' },

      { id: 'c2', from: '2', to: '3', style: 'curved' }- Use the color palette or custom color picker      width: 100%;

    ]

  };- Adjust stroke opacity (0-100%)

}

```- Change stroke width (1-10px)      height: 100vh;



### Example 2: Microservices Platform



```typescript**Fill Mode (Interior):**    }```css

const microservicesTemplate = {

  name: 'Microservices Platform',- Switch to "Fill" mode

  components: [

    { id: '1', type: 'kubernetes', label: 'K8s Cluster', x: 100, y: 100, width: 150, height: 100 },- Select color independently from stroke  `]

    { id: '2', type: 'load-balancer', label: 'Load Balancer', x: 100, y: 250, width: 150, height: 80 },

    { id: '3', type: 'kafka', label: 'Event Bus', x: 300, y: 150, width: 120, height: 80 },- Adjust fill opacity separately

    { id: '4', type: 'mongodb', label: 'Database', x: 300, y: 280, width: 120, height: 80 },

    { id: '5', type: 'redis', label: 'Cache', x: 500, y: 200, width: 100, height: 70 }})* {

  ],

  connections: [### My Templates

    { id: 'c1', from: '2', to: '1', label: 'HTTP', style: 'straight' },

    { id: 'c2', from: '1', to: '3', label: 'Events', style: 'curved' },export class AppComponent {}

    { id: 'c3', from: '1', to: '4', label: 'Data', style: 'curved' },

    { id: 'c4', from: '1', to: '5', label: 'Cache', style: 'curved' }**Save a Custom Template:**

  ]

};1. Create your diagram```  margin: 0;### Peer DependenciesOnce the project is built, you can publish your library by following these steps:

```

2. Click the **üíæ Save as Template** button in the Templates panel

---

3. Enter a name and description

## üîß Troubleshooting

4. Your template is saved to browser localStorage

### Common Issues

### Step 2: Configure Global Styles  padding: 0;

#### 1. **Components not appearing**

**Load a Template:**

**Cause**: Browser environment check failing in SSR

1. Click **üìã Templates** button

**Solution**: Ensure you're using Angular's SSR-compatible code:

2. Switch to **üíæ My Templates** tab

```typescript

import { isPlatformBrowser } from '@angular/common';3. Click on any template to load itAdd to your `styles.css` or `styles.scss`:  box-sizing: border-box;

import { PLATFORM_ID, inject } from '@angular/core';



const platformId = inject(PLATFORM_ID);

if (isPlatformBrowser(platformId)) {**Create New Canvas:**

  // Canvas operations here

}- Click the **üìÑ New Canvas** button to start fresh

```

```css}

#### 2. **Konva errors in console**

---

**Cause**: Missing Konva peer dependency

* {

**Solution**: Install Konva:

## ‚å®Ô∏è Keyboard Shortcuts

```bash

npm install konva@^10.0.12  margin: 0;```json1. Navigate to the `dist` directory:

```

### Selection & Navigation

#### 3. **Canvas not responsive**

| Shortcut | Action |  padding: 0;

**Cause**: Container size not set

|----------|--------|

**Solution**: Set explicit height on parent container:

| `V` | Select Tool |  box-sizing: border-box;html, body {

```css

.diagram-container {| `H` | Hand Tool (Pan) |

  width: 100%;

  height: 600px; /* or 100vh */| `Space + Drag` | Temporary Hand Tool |}

}

```| `Shift + Click` | Multi-select |



#### 4. **Theme not applying**| `Cmd/Ctrl + A` | Select All |  width: 100%;{   ```bash



**Cause**: Theme input not properly bound



**Solution**: Use property binding:### Drawing Toolshtml, body {



```html| Shortcut | Action |

<lib-konva-canvas-main [theme]="'dark'"></lib-konva-canvas-main>

```|----------|--------|  width: 100%;  height: 100%;



#### 5. **Export not working**| `K` | Connector Tool |



**Cause**: Canvas not fully initialized| `P` | Pen Tool |  height: 100%;



**Solution**: Wait for component to be ready:| `R` | Rectangle Tool |



```typescript| `C` | Circle Tool |  overflow: hidden;  overflow: hidden;  "@angular/common": "^21.0.0",   cd dist/konva-canvas-builder

ngAfterViewInit() {

  setTimeout(() => {| `A` | Arrow Tool |

    this.canvas.exportAsPNG();

  }, 100);| `L` | Line Tool |}

}

```| `T` | Text Tool |



---```}



## üìÑ License### Editing



MIT License - feel free to use in personal and commercial projects.| Shortcut | Action |



---|----------|--------|



## ü§ù Contributing| `Cmd/Ctrl + G` | Group Selected |### Step 3: Run Your Application```  "@angular/core": "^21.0.0",   ```



Contributions are welcome! Please feel free to submit a Pull Request.| `Cmd/Ctrl + Z` | Undo |



---| `Cmd/Ctrl + Y` | Redo |



## üìû Support| `Delete/Backspace` | Delete Selected |



- **GitHub Issues**: [Report bugs](https://github.com/samba425/konva-architecture-canvas/issues)| `Cmd/Ctrl + D` | Duplicate Selected |```bash

- **Documentation**: [Full docs](https://github.com/samba425/konva-architecture-canvas)

- **Live Demo**: [Try it out](https://samba425.github.io/konva-architecture-canvas/)



---### Viewng serve



**Built with ‚ù§Ô∏è using Angular and Konva.js**| Shortcut | Action |


|----------|--------|```### 3Ô∏è‚É£ Run Your App  "@angular/forms": "^21.0.0",

| `+` / `Scroll Up` | Zoom In |

| `-` / `Scroll Down` | Zoom Out |

| `0` | Reset Zoom (100%) |

| `?` | Show Keyboard Shortcuts |Open your browser to `http://localhost:4200` and start creating diagrams!



### Export

| Shortcut | Action |

|----------|--------|---```bash  "konva": "^10.0.12"2. Run the `npm publish` command to publish your library to the npm registry:

| `Cmd/Ctrl + S` | Save as JSON |

| `Cmd/Ctrl + E` | Export as PNG |



---## üß© Component Libraryng serve



## üîß API Reference



### Component Selector### ü§ñ AI Foundation Models (12)```}   ```bash



```html- Mistral, Llama, Gemma, GPT, Claude, Gemini

<arch-canvas></arch-canvas>

```- DeepSeek, Phi, Qwen, Grok, Nova, Cohere



### Input Properties



Currently, the component works standalone without required inputs. Future versions will support:### üóÑÔ∏è Vector Databases (6)Open `http://localhost:4200` - **That's it!** üéâ```   npm publish



```typescript- Weaviate, Milvus, Pinecone

@Input() initialData?: ArchitectureDiagram;

@Input() theme?: 'light' | 'dark';- Chroma, pgVector, Neon

@Input() readOnly?: boolean;

```



### Output Events### üîó Agent Frameworks (10)---   ```



```typescript- LangChain, LangGraph, Semantic Kernel

@Output() diagramChange = new EventEmitter<ArchitectureDiagram>();

@Output() selectionChange = new EventEmitter<any[]>();- AutoGen, Camel AI, LlamaIndex

```

- CrewAI, AWS Bedrock, Replit, OpenAI Operator

### Methods (via ViewChild)

## üéØ What You Get---

```typescript

@ViewChild(KonvaCanvasMainComponent) canvas!: KonvaCanvasMainComponent;### üìä Observability Tools (7)



// Export diagram- Langfuse, Comet Opik, Helicone

this.canvas.exportToJSON();

this.canvas.exportToPNG();- Arize Phoenix, Datadog, Amplitude, Sentry

this.canvas.exportToSVG();

The component appears with:## Running unit tests

// Canvas control

this.canvas.zoomIn();### üõ†Ô∏è Tool Execution (5)

this.canvas.zoomOut();

this.canvas.zoomToFit();- Composio, NPI, Exa, LinkUp, Browserbase- **Left Sidebar**: 47+ components in 6 categories (AI Models, Databases, Frameworks, etc.)

this.canvas.resetZoom();



// Clear canvas

this.canvas.clearCanvas();### üíæ Memory Systems (6)- **Top Toolbar**: Drawing tools (select, shapes, lines, text, pen, etc.)## üöÄ Quick Start

```

- Zep, Cognee, Mem0

---

- VertexAI, NapthaAI, MaestroAI- **Right Panel**: Color picker and styling controls

## üí° Examples



### Example 1: Simple Integration

---- **Canvas**: Drag components from sidebar, draw shapes, create diagramsTo execute unit tests with the [Karma](https://karma-runner.github.io) test runner, use the following command:

```typescript

import { Component } from '@angular/core';

import { KonvaCanvasMainComponent } from 'konva-architecture-canvas';

## üìö Usage Guide

@Component({

  selector: 'app-diagram',

  standalone: true,

  imports: [KonvaCanvasMainComponent],### Creating Your First Diagram---### 1. Import the Component

  template: `

    <div class="diagram-container">

      <arch-canvas></arch-canvas>

    </div>1. **Select a Tool**: Click the ‚ÜñÔ∏è (Select), ‚úã (Hand), or drawing tool from the toolbar

  `,

  styles: [`2. **Add Components**: Search for components in the left panel and drag them to the canvas

    .diagram-container {

      width: 100vw;3. **Connect Components**: Use the üîó Connector tool to draw lines between components## üí° How to Use```bash

      height: 100vh;

      background: #1a1a2e;4. **Style Your Diagram**: Select items and use the color/opacity controls

    }

  `]5. **Save Your Work**: Click üíæ to save as a template or export to JSON/PNG

})

export class DiagramComponent {}

```

### Drawing Tools### Add Components```typescriptng test

### Example 2: With Custom Actions



```typescript

import { Component, ViewChild } from '@angular/core';| Tool | Icon | Shortcut | Description |1. **Drag & Drop**: Drag any component from the left sidebar onto the canvas

import { KonvaCanvasMainComponent } from 'konva-architecture-canvas';

|------|------|----------|-------------|

@Component({

  selector: 'app-advanced-diagram',| Select | ‚ÜñÔ∏è | V | Select and move shapes |2. **Icons appear automatically** with Font Awesome icons// app.component.ts```

  standalone: true,

  imports: [KonvaCanvasMainComponent],| Hand | ‚úã | H | Pan the canvas |

  template: `

    <div class="toolbar">| Connector | üîó | K | Draw connections between shapes |

      <button (click)="saveToJSON()">Save</button>

      <button (click)="exportImage()">Export PNG</button>| Pen | ‚úèÔ∏è | P | Freehand drawing |

      <button (click)="clearAll()">Clear</button>

    </div>| Rectangle | ‚ñ≠ | R | Draw rectangles |### Draw Shapesimport { Component } from '@angular/core';

    <arch-canvas></arch-canvas>

  `| Circle | ‚óã | C | Draw circles |

})

export class AdvancedDiagramComponent {| Arrow | ‚Üí | A | Draw directional arrows |1. Click tool from top toolbar (rectangle, circle, arrow, line, text, etc.)

  @ViewChild(KonvaCanvasMainComponent) canvas!: KonvaCanvasMainComponent;

| Line | ‚îÄ | L | Draw straight lines |

  saveToJSON() {

    this.canvas.exportToJSON();| Text | T | T | Add text labels |2. Click and drag on canvas to drawimport { KonvaCanvasMainComponent } from 'konva-architecture-canvas';## Running end-to-end tests

  }



  exportImage() {

    this.canvas.exportToPNG();### Using Connectors3. Use color panel on right to style

  }



  clearAll() {

    if (confirm('Clear entire canvas?')) {1. Click the **üîó Connector** tool

      this.canvas.clearCanvas();

    }2. Click on the **source component**

  }

}3. Click on the **target component**### Select & Edit

```

4. A curved line will be drawn automatically

---

5. Toggle between curved/straight lines with the **„Ä∞Ô∏è** button- **Single select**: Click any item@Component({For end-to-end (e2e) testing, run:

## üêõ Troubleshooting



### Canvas Not Displaying

### Grouping Components- **Multi-select**: Shift+Click or drag a selection box

**Problem**: Component shows but canvas is blank.



**Solution**: Ensure global styles include:

```css1. Select multiple components (Shift+Click or drag-rectangle)- **Group**: Select multiple items ‚Üí Cmd/Ctrl+G  selector: 'app-root',

* { margin: 0; padding: 0; box-sizing: border-box; }

html, body { width: 100%; height: 100%; overflow: hidden; }2. Press **Cmd+G** (Mac) or **Ctrl+G** (Windows/Linux)

```

3. The group will have a colored border based on nesting level- **Ungroup**: Select group ‚Üí Cmd/Ctrl+Shift+G

### Components Not Draggable

4. Drag the group to move all items together

**Problem**: Can't drag components from sidebar.

- **Delete**: Select items ‚Üí Delete key  standalone: true,```bash

**Solution**: Make sure you're in Select mode (‚ÜñÔ∏è) and not another tool mode.

**Group Border Colors by Nesting Level:**

### Auto-Save Not Working

- Level 1: Purple- **Undo/Redo**: Cmd/Ctrl+Z / Cmd/Ctrl+Shift+Z

**Problem**: Changes lost after page refresh.

- Level 2: Red  

**Solution**: 

- Check browser console for localStorage errors- Level 3: Orange  imports: [KonvaCanvasMainComponent],ng e2e

- Ensure localStorage is enabled in your browser

- Check if browser is in private/incognito mode (localStorage may be restricted)- Level 4: Green



### Tooltips Not Showing- Level 5: Blue### Change Colors



**Problem**: Hover tooltips don't appear on toolbar buttons.



**Solution**: The component uses custom CSS tooltips with `data-tooltip` attributes. Ensure styles are loaded correctly.### Styling Components1. Select item(s)  template: ````



### Performance Issues



**Problem**: Canvas is slow with many components.**Stroke Mode (Border):**2. Use color panel on right



**Solution**:- Click any component to select it

- Use grouping to organize components

- Avoid excessive nesting (max 5 levels recommended)- Use the color palette or custom color picker3. **Stroke** = border color    <div class="canvas-container">

- Close unused panels when not in use

- Adjust stroke opacity (0-100%)

---

- Change stroke width (1-10px)4. **Fill** = inside color

## üìÑ License



MIT ¬© [Your Name/Organization]

**Fill Mode (Interior):**5. Adjust opacity sliders      <kcb-konva-canvas-main></kcb-konva-canvas-main>Angular CLI does not come with an end-to-end testing framework by default. You can choose one that suits your needs.

---

- Switch to "Fill" mode

## ü§ù Contributing

- Select color independently from stroke

Contributions are welcome! Please feel free to submit a Pull Request.

- Adjust fill opacity separately

---

---    </div>

## üìû Support

### My Templates

- **Issues**: [GitHub Issues](https://github.com/samba425/konva-architecture-canvas/issues)

- **Discussions**: [GitHub Discussions](https://github.com/samba425/konva-architecture-canvas/discussions)



---**Save a Custom Template:**



## üéØ Roadmap1. Create your diagram## ‚å®Ô∏è Keyboard Shortcuts  `,## Additional Resources



- [ ] Custom component creation API2. Click the **üíæ Save as Template** button in the Templates panel

- [ ] Real-time collaboration

- [ ] More export formats (PDF, SVG with metadata)3. Enter a name and description

- [ ] Component search and filtering

- [ ] Undo/Redo stack management4. Your template is saved to browser localStorage

- [ ] Snap-to-grid functionality

- [ ] Custom themes support| Shortcut | Action |  styles: [`



---**Load a Template:**



**Made with ‚ù§Ô∏è using Angular and Konva.js**1. Click **üìã Templates** button|----------|--------|


2. Switch to **üíæ My Templates** tab

3. Click on any template to load it| `V` | Select tool |    .canvas-container {For more information on using the Angular CLI, including detailed command references, visit the [Angular CLI Overview and Command Reference](https://angular.dev/tools/cli) page.



**Create New Canvas:**| `H` | Hand/Pan tool |

- Click the **üìÑ New Canvas** button to start fresh

| `R` | Rectangle |      width: 100vw;

---

| `C` | Circle |      height: 100vh;

## ‚å®Ô∏è Keyboard Shortcuts

| `L` | Line |    }

### Selection & Navigation

| Shortcut | Action || `A` | Arrow |  `]

|----------|--------|

| `V` | Select Tool || `T` | Text |})

| `H` | Hand Tool (Pan) |

| `Space + Drag` | Temporary Hand Tool || `P` | Pen tool |export class AppComponent {}

| `Shift + Click` | Multi-select |

| `Cmd/Ctrl + A` | Select All || `Cmd/Ctrl+G` | Group selected |```



### Drawing Tools| `Cmd/Ctrl+Shift+G` | Ungroup |

| Shortcut | Action |

|----------|--------|| `Cmd/Ctrl+Z` | Undo |### 2. That's It! üéâ

| `K` | Connector Tool |

| `P` | Pen Tool || `Cmd/Ctrl+Shift+Z` | Redo |

| `R` | Rectangle Tool |

| `C` | Circle Tool || `Cmd/Ctrl+A` | Select all |The component comes with 47+ pre-built components ready to use!

| `A` | Arrow Tool |

| `L` | Line Tool || `Cmd/Ctrl+D` | Duplicate |

| `T` | Text Tool |

| `Delete` | Delete selected |---

### Editing

| Shortcut | Action |

|----------|--------|

| `Cmd/Ctrl + G` | Group Selected |---## üìñ Full Documentation

| `Cmd/Ctrl + Z` | Undo |

| `Cmd/Ctrl + Y` | Redo |

| `Delete/Backspace` | Delete Selected |

| `Cmd/Ctrl + D` | Duplicate Selected |## üìä Available Components- **Installation & Setup**: See above



### View- **Usage Guide**: [Main README](../../README.md)

| Shortcut | Action |

|----------|--------|### ü§ñ AI Models (11)- **Developer Guide**: [DEVELOPER_GUIDE.md](../../DEVELOPER_GUIDE.md)

| `+` / `Scroll Up` | Zoom In |

| `-` / `Scroll Down` | Zoom Out |GPT-4, Claude, Llama, Gemini, Mistral, Command, Jurassic, PaLM, BERT, T5, DALL-E- **Publishing Guide**: [NPM_PUBLISHING_GUIDE.md](../../NPM_PUBLISHING_GUIDE.md)

| `0` | Reset Zoom (100%) |

| `?` | Show Keyboard Shortcuts |



### Export### üíæ Data Storage (12)---

| Shortcut | Action |

|----------|--------|PostgreSQL, MySQL, MongoDB, Redis, Cassandra, DynamoDB, Snowflake, BigQuery, Elasticsearch, Pinecone, etc.

| `Cmd/Ctrl + S` | Save as JSON |

| `Cmd/Ctrl + E` | Export as PNG |## üìä Component Categories



---### üîß Agent Frameworks (7)



## üîß API ReferenceLangChain, AutoGen, CrewAI, AgentGPT, BabyAGI, SuperAGI, MetaGPT- üî• **Foundation Models**: GPT-4, Claude, Llama, Gemini, etc.



### Component Selector- üíæ **Data Storage**: PostgreSQL, Redis, MongoDB, Pinecone, etc.



```html### üìà Observability (7)- ü§ñ **Agent Frameworks**: LangChain, AutoGen, CrewAI, etc.

<arch-canvas></arch-canvas>

```Grafana, Prometheus, DataDog, New Relic, Splunk, ELK Stack, Jaeger- üìä **Observability**: Grafana, Prometheus, DataDog, etc.



### Input Properties- üîß **Tool Execution**: Tavily, Exa, Perplexity, etc.



Currently, the component works standalone without required inputs. Future versions will support:### üî® Tool Execution (6)- üß† **Memory Management**: Weaviate, ChromaDB, Milvus, etc.



```typescriptTavily, Exa, Perplexity, Serper, SerpAPI, BrowserBase

@Input() initialData?: ArchitectureDiagram;

@Input() theme?: 'light' | 'dark';---

@Input() readOnly?: boolean;

```### üß† Memory (4)



### Output EventsWeaviate, ChromaDB, Milvus, FAISS## ‚å®Ô∏è Keyboard Shortcuts



```typescript

@Output() diagramChange = new EventEmitter<ArchitectureDiagram>();

@Output() selectionChange = new EventEmitter<any[]>();---| Shortcut | Action |

```

|----------|--------|

### Methods (via ViewChild)

## üé® Styling Options| `Cmd/Ctrl + G` | Group selected items |

```typescript

@ViewChild(KonvaCanvasMainComponent) canvas!: KonvaCanvasMainComponent;| `Cmd/Ctrl + Shift + G` | Ungroup |



// Export diagram- **Colors**: 12 preset colors + custom hex colors| `Cmd/Ctrl + Z` | Undo |

this.canvas.exportToJSON();

this.canvas.exportToPNG();- **Opacity**: Separate opacity for stroke and fill (0-100%)| `Cmd/Ctrl + A` | Select all |

this.canvas.exportToSVG();

- **Stroke Width**: 1-10px| `Cmd/Ctrl + S` | Export JSON |

// Canvas control

this.canvas.zoomIn();- **Fill Styles**: Solid, hatch, cross-hatch, dotted, none| `Delete` | Delete selected |

this.canvas.zoomOut();

this.canvas.zoomToFit();- **Stroke Patterns**: Solid, dashed, dotted, none| `Shift + Click` | Multi-select |

this.canvas.resetZoom();

- **Size Presets**: S, M, L, XL

// Clear canvas

this.canvas.clearCanvas();---

```

---

---

## üìÑ License

## üí° Examples

## üíæ Export/Import

### Example 1: Simple Integration

MIT License - Copyright (c) 2025  Systems, Inc.

```typescript

import { Component } from '@angular/core';### Export

import { KonvaCanvasMainComponent } from 'konva-architecture-canvas';

Click **Save JSON** button (top toolbar) ‚Üí Downloads architecture as JSON file---

@Component({

  selector: 'app-diagram',

  standalone: true,

  imports: [KonvaCanvasMainComponent],### Import## üìû Support

  template: `

    <div class="diagram-container">Click **Load JSON** button (top toolbar) ‚Üí Select saved JSON file

      <arch-canvas></arch-canvas>

    </div>- **Issues**: https://github.com/samba425/konva-architecture-canvas/issues

  `,

  styles: [`---- **Email**: asiva325@gmail.com

    .diagram-container {

      width: 100vw;

      height: 100vh;

      background: #1a1a2e;## üõ†Ô∏è Advanced Usage---

    }

  `]

})

export class DiagramComponent {}### Full-Page Canvas (Recommended)**Made with ‚ù§Ô∏è by SAMBA SIVA**

```



### Example 2: With Custom Actions```typescript

@Component({

```typescript  selector: 'app-root',

import { Component, ViewChild } from '@angular/core';  standalone: true,

import { KonvaCanvasMainComponent } from 'konva-architecture-canvas';  imports: [KonvaCanvasMainComponent],

  template: '<arch-canvas></arch-canvas>',

@Component({  styles: [`

  selector: 'app-advanced-diagram',    :host {

  standalone: true,      display: block;

  imports: [KonvaCanvasMainComponent],      width: 100%;

  template: `      height: 100vh;

    <div class="toolbar">    }

      <button (click)="saveToJSON()">Save</button>    arch-canvas {

      <button (click)="exportImage()">Export PNG</button>      display: block;

      <button (click)="clearAll()">Clear</button>      width: 100%;

    </div>      height: 100%;

    <arch-canvas></arch-canvas>    }

  `  `]

})})

export class AdvancedDiagramComponent {export class AppComponent {}

  @ViewChild(KonvaCanvasMainComponent) canvas!: KonvaCanvasMainComponent;```



  saveToJSON() {### Embedded in Page

    this.canvas.exportToJSON();

  }```typescript

@Component({

  exportImage() {  selector: 'app-root',

    this.canvas.exportToPNG();  standalone: true,

  }  imports: [KonvaCanvasMainComponent],

  template: `

  clearAll() {    <header>My App</header>

    if (confirm('Clear entire canvas?')) {    <div class="canvas-wrapper">

      this.canvas.clearCanvas();      <arch-canvas></arch-canvas>

    }    </div>

  }  `,

}  styles: [`

```    .canvas-wrapper {

      width: 100%;

---      height: 600px;

    }

## üêõ Troubleshooting    arch-canvas {

      display: block;

### Canvas Not Displaying      width: 100%;

      height: 100%;

**Problem**: Component shows but canvas is blank.    }

  `]

**Solution**: Ensure global styles include:})

```cssexport class AppComponent {}

* { margin: 0; padding: 0; box-sizing: border-box; }```

html, body { width: 100%; height: 100%; overflow: hidden; }

```---



### Components Not Draggable## ‚ö†Ô∏è Common Issues & Fixes



**Problem**: Can't drag components from sidebar.### Issue: Left sidebar icons not showing

**Fix**: Make sure you have internet connection (icons load from Iconify API) and wait 2-3 seconds for them to load

**Solution**: Make sure you're in Select mode (‚ÜñÔ∏è) and not another tool mode.

### Issue: Canvas not visible

### Auto-Save Not Working**Fix**: Make sure parent elements have height set:

```css

**Problem**: Changes lost after page refresh.arch-canvas {

  display: block;

**Solution**:   width: 100%;

- Check browser console for localStorage errors  height: 100vh; /* or specific height */

- Ensure localStorage is enabled in your browser}

- Check if browser is in private/incognito mode (localStorage may be restricted)```



### Tooltips Not Showing### Issue: Selector not found

**Fix**: Use `<arch-canvas></arch-canvas>` (not `app-konva-canvas-main`)

**Problem**: Hover tooltips don't appear on toolbar buttons.

---

**Solution**: The component uses custom CSS tooltips with `data-tooltip` attributes. Ensure styles are loaded correctly.

## üìñ Examples

### Performance Issues

### Minimal Setup

**Problem**: Canvas is slow with many components.```typescript

import { Component } from '@angular/core';

**Solution**:import { KonvaCanvasMainComponent } from 'konva-architecture-canvas';

- Use grouping to organize components

- Avoid excessive nesting (max 5 levels recommended)@Component({

- Close unused panels when not in use  selector: 'app-root',

  standalone: true,

---  imports: [KonvaCanvasMainComponent],

  template: '<arch-canvas style="display:block;width:100%;height:100vh"></arch-canvas>'

## üìÑ License})

export class AppComponent {}

MIT ¬© [Your Name/Organization]```



---### With Custom Styling

```typescript

## ü§ù Contributing@Component({

  selector: 'app-root',

Contributions are welcome! Please feel free to submit a Pull Request.  standalone: true,

  imports: [KonvaCanvasMainComponent],

---  template: `

    <div class="app-container">

## üìû Support      <arch-canvas></arch-canvas>

    </div>

- **Issues**: [GitHub Issues](https://github.com/samba425/konva-architecture-canvas/issues)  `,

- **Discussions**: [GitHub Discussions](https://github.com/samba425/konva-architecture-canvas/discussions)  styles: [`

    .app-container {

---      width: 100vw;

      height: 100vh;

## üéØ Roadmap      background: #f5f5f5;

    }

- [ ] Custom component creation API    arch-canvas {

- [ ] Real-time collaboration      display: block;

- [ ] More export formats (PDF, SVG with metadata)      width: 100%;

- [ ] Component search and filtering      height: 100%;

- [ ] Undo/Redo stack management    }

- [ ] Snap-to-grid functionality  `]

- [ ] Custom themes support})

export class AppComponent {}

---```



**Made with ‚ù§Ô∏è using Angular and Konva.js**---


## üìù Requirements

- **Angular**: 21.0+ (works with Angular 15+)
- **Konva**: 10.0+
- **TypeScript**: 5.0+
- **Modern browsers** with ES2020+ support

---

## ü§ù Support

- **GitHub**: [github.com/samba425/konva-architecture-canvas](https://github.com/samba425/konva-architecture-canvas)
- **Issues**: [Report bugs](https://github.com/samba425/konva-architecture-canvas/issues)
- **NPM**: [npmjs.com/package/konva-architecture-canvas](https://www.npmjs.com/package/konva-architecture-canvas)

---

## üìÑ License

MIT License - See LICENSE file for details

---

## üéâ Quick Tips

1. **Icons load from internet** - First load may take 2-3 seconds
2. **Use Shift+Click** for multi-select (not just drag selection)
3. **Right-click on canvas** to pan/zoom
4. **Use keyboard shortcuts** (Cmd+G, Cmd+Z, etc.) for speed
5. **Group items** before moving them together
6. **Export often** to save your work as JSON

---

**Made with ‚ù§Ô∏è for developers who love beautiful diagrams**
